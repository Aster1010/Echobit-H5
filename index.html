<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Echobit æˆå°±å¢™</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background-color: #0f172a; color: #e2e8f0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
        /* éšè—æ»šåŠ¨æ¡ä½†ä¿ç•™åŠŸèƒ½ */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        /* Logoè‰²æ¸å˜æ–‡å­— (ç´«éŸµ) */
        .text-theme { background: linear-gradient(to right, #a78bfa, #8b5cf6); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        /* å‹‹ç« å‘å…‰ç‰¹æ•ˆ */
        .glow-active { box-shadow: 0 0 15px rgba(139, 92, 246, 0.4); border-color: #8b5cf6; }
        .glow-locked { border-color: #334155; opacity: 0.7; filter: grayscale(100%); }
    </style>
</head>
<body class="overflow-x-hidden select-none">
    <div id="app" class="pb-24">
        <!-- é¡¶éƒ¨å¡ç‰‡ (Header Card) - ç”¨æˆ·èº«ä»½ -->
        <div class="bg-gradient-to-r from-slate-900 to-slate-800 pb-10 pt-6 px-4 rounded-b-[2rem] shadow-xl relative z-0">
            <div class="flex justify-between items-start mb-4">
                <div>
                    <!-- Logo Area -->
                    <div class="flex items-center gap-2 mb-2">
                        <img src="logo.png" alt="Echobit" class="h-5 w-auto object-contain">
                    </div>
                    <div class="text-sm text-slate-400 uppercase tracking-wider mb-1">ç¤¾åŒºèº«ä»½å¡</div>
                    <div class="text-2xl font-bold text-white flex items-center gap-2">
                        {{ user.name }}
                        <span class="px-2 py-0.5 text-[10px] bg-violet-500/20 text-violet-300 border border-violet-500/30 rounded-full">Lv.{{ user.level }}</span>
                    </div>
                </div>
                <div class="text-right pt-2">
                    <div class="text-violet-400 font-bold text-lg">{{ user.title }}</div>
                    <div class="text-xs text-slate-500">è·ä¸‹ä¸€çº§ {{ user.nextLevelExp }} EXP</div>
                </div>
            </div>
            <!-- Progress Bar -->
            <div class="w-full bg-slate-700/50 rounded-full h-2 mb-2">
                <div class="bg-gradient-to-r from-violet-500 to-fuchsia-500 h-2 rounded-full transition-all duration-1000" :style="{ width: user.expPercent + '%' }"></div>
            </div>
        </div>

        <!-- æ ¸å¿ƒæ•°æ®æ  (Core Stats Grid) -->
        <div class="grid grid-cols-3 gap-2 px-4 -mt-6 relative z-10">
            <div class="bg-slate-800 p-3 rounded-xl border border-slate-700 shadow-lg text-center backdrop-blur-sm">
                <div class="text-xs text-slate-400">å½“å‰ç§¯åˆ†</div>
                <div class="text-lg font-bold text-violet-400">{{ stats.points }}</div>
            </div>
            <div class="bg-slate-800 p-3 rounded-xl border border-slate-700 shadow-lg text-center backdrop-blur-sm">
                <div class="text-xs text-slate-400">è¿ç»­ç­¾åˆ°</div>
                <div class="text-lg font-bold text-blue-400">{{ stats.streak }}å¤©</div>
            </div>
            <div class="bg-slate-800 p-3 rounded-xl border border-slate-700 shadow-lg text-center backdrop-blur-sm">
                <div class="text-xs text-slate-400">é‚€è¯·äººæ•°</div>
                <div class="text-lg font-bold text-green-400">{{ stats.invites }}</div>
            </div>
        </div>

        <!-- å‹‹ç« å±•ç¤ºåŒº (Badge Wall) -->
        <div class="mt-8 px-4">
            <div class="flex items-center justify-between mb-4">
                <h2 class="text-lg font-bold text-white border-l-4 border-violet-500 pl-3">è£èª‰å‹‹ç« é¦†</h2>
                <span class="text-xs text-slate-500">å·²æ”¶é›†: {{ unlockedCount }}/{{ totalCount }}</span>
            </div>
            
            <!-- Tabs -->
            <div class="flex space-x-2 overflow-x-auto no-scrollbar mb-4 pb-2">
                <button v-for="cat in achievementCategories" :key="cat.id" 
                    @click="currentTab = cat.id" 
                    :class="['px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all', 
                    currentTab === cat.id ? 'bg-violet-600 text-white shadow-lg shadow-violet-500/20' : 'bg-slate-800 text-slate-400 border border-slate-700']">
                    {{ cat.name }}
                </button>
            </div>
            
            <!-- Grid -->
            <div class="grid grid-cols-3 gap-3">
                <div v-for="item in currentBadges" :key="item.title" 
                    :class="['flex flex-col items-center p-3 rounded-xl border bg-slate-800 transition-all duration-300 relative overflow-hidden', 
                    item.active ? 'glow-active' : 'glow-locked border-slate-700']">
                    
                    <div v-if="!item.active" class="absolute top-1 right-1 text-xs opacity-50">ğŸ”’</div>
                    <div class="text-3xl mb-2">{{ item.icon }}</div>
                    <div class="text-xs font-bold text-center leading-tight mb-1 h-8 flex items-center justify-center">{{ item.title }}</div>
                    <div class="text-[10px] text-slate-500 text-center scale-90">{{ item.condition }}</div>
                </div>
            </div>
        </div>

        <!-- åº•éƒ¨äº¤äº’ -->
        <div class="fixed bottom-0 left-0 right-0 p-4 bg-slate-900/90 backdrop-blur border-t border-slate-800 z-50">
            <button @click="shareAchievement" class="w-full bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-violet-500/20 active:scale-95 transition-transform">
                ğŸ“¤ ç‚«è€€æˆ‘çš„æˆ˜ç»©
            </button>
        </div>
    </div>

    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    logoError: false,
                    currentTab: 'checkin',
                    // æ¨¡æ‹Ÿç”¨æˆ·æ•°æ® (å®é™…åº”ä» URL å‚æ•°è¯»å–)
                    user: { name: 'CryptoWhale', title: 'ç¤¾åŒºå…ƒè€', level: 3, expPercent: 65, nextLevelExp: 350 },
                    stats: { points: 8840, streak: 12, invites: 5 },
                    
                    // å…¨é‡æˆå°±æ•°æ® (Hardcoded JSON)
                    achievementCategories: [
                        {
                            name: "ğŸ“… ç­¾åˆ°æˆå°±",
                            id: "checkin",
                            items: [
                                { title: "æ–°æ‰‹æŠ¥åˆ°", condition: "è¿ç»­ç­¾åˆ° 1 å¤©", icon: "ğŸŒ±", active: true },
                                { title: "åˆå¿ƒä¸æ”¹", condition: "è¿ç»­ç­¾åˆ° 7 å¤©", icon: "ğŸ‘Š", active: true },
                                { title: "åšæŒä¸æ‡ˆ", condition: "è¿ç»­ç­¾åˆ° 30 å¤©", icon: "ğŸ”¥", active: false },
                                { title: "ç™¾æ—¥ç­‘åŸº", condition: "è¿ç»­ç­¾åˆ° 100 å¤©", icon: "ğŸ—ï¸", active: false },
                                { title: "å¹´åº¦å‹‡å£«", condition: "è¿ç»­ç­¾åˆ° 365 å¤©", icon: "ğŸ›¡ï¸", active: false },
                                { title: "æ–­ç­¾å¤æ´»", condition: "æ–­ç­¾åé‡æ–°è¿ç»­ç­¾åˆ° 30 å¤©", icon: "â¤ï¸", active: false },
                                { title: "å‘¨æœ«æˆ˜å£«", condition: "è¿ç»­4å‘¨å‘¨æœ«ç­¾åˆ°", icon: "ğŸ–ï¸", active: false },
                                { title: "å‡Œæ™¨å…š", condition: "å‡Œæ™¨0-2ç‚¹ç­¾åˆ° 10 æ¬¡", icon: "ğŸŒ™", active: false },
                                { title: "æ—©èµ·é¸Ÿ", condition: "æ—©ä¸Š6-8ç‚¹ç­¾åˆ° 30 æ¬¡", icon: "ğŸ¦", active: false },
                                { title: "å¤œçŒ«å­", condition: "æ™šä¸Š22-24ç‚¹ç­¾åˆ° 30 æ¬¡", icon: "ğŸ¦‰", active: false },
                                { title: "ç­¾åˆ°ç‹‚äºº", condition: "å•æœˆç­¾åˆ° 30 å¤©ï¼ˆå…¨å‹¤ï¼‰", icon: "ğŸ“†", active: false },
                                { title: "ç­¾åˆ°è¾¾äºº", condition: "ç´¯è®¡ç­¾åˆ° 200 å¤©", icon: "ğŸ–ï¸", active: false },
                                { title: "ç­¾åˆ°å¤§å¸ˆ", condition: "ç´¯è®¡ç­¾åˆ° 500 å¤©", icon: "ğŸ‘‘", active: false },
                                { title: "ç­¾åˆ°ä¹‹ç¥", condition: "ç´¯è®¡ç­¾åˆ° 1000 å¤©", icon: "ğŸ”±", active: false },
                                { title: "æ°¸ä¸æ–­ç­¾", condition: "è¿ç»­ç­¾åˆ° 180 å¤©", icon: "â™¾ï¸", active: false }
                            ]
                        },
                        {
                            name: "ğŸ¤ ç¤¾äº¤æˆå°±",
                            id: "social",
                            items: [
                                { title: "ç¤¾äº¤è¾¾äºº", condition: "é‚€è¯· 3 ä½å¥½å‹", icon: "ğŸ‘‹", active: true },
                                { title: "KOL", condition: "é‚€è¯· 10 ä½å¥½å‹", icon: "ğŸ“¢", active: false },
                                { title: "è¶…çº§èŠ‚ç‚¹", condition: "é‚€è¯· 50 ä½å¥½å‹", icon: "ğŸŒ", active: false },
                                { title: "åˆ†äº«è¾¾äºº", condition: "åˆ†äº«å†…å®¹ 10 æ¬¡", icon: "ğŸ“¤", active: false },
                                { title: "çˆ†æ¬¾åˆ¶é€ æœº", condition: "åˆ†äº«è·å¾— 100+ è½¬å‘", icon: "ğŸš€", active: false },
                                { title: "ç¤¾ç¾¤æ´»è·ƒç‹", condition: "Echobit ç¤¾ç¾¤å‘è¨€ 100 æ¬¡", icon: "ğŸ’¬", active: true },
                                { title: "ç‚¹èµç‹‚é­”", condition: "ç‚¹èµä»–äºº 500 æ¬¡", icon: "â¤ï¸", active: false },
                                { title: "çƒ­å¿ƒåŠ©äºº", condition: "å›ç­”è¢«æ ‡è®°'æœ‰å¸®åŠ©' 30 æ¬¡", icon: "ğŸ¤", active: false },
                                { title: "è¯é¢˜ç‹", condition: "å‘èµ·çš„è¯é¢˜è·å¾— 50+ å›å¤", icon: "ğŸ¤", active: false },
                                { title: "è¡¨æƒ…åŒ…å¤§å¸ˆ", condition: "å‘é€ 1000 ä¸ªè¡¨æƒ…", icon: "ğŸ˜‚", active: false },
                                { title: "é•¿è¯„è®ºå®¶", condition: "å‘è¡¨ 100 å­—ä»¥ä¸Šè¯„è®º 20 æ¬¡", icon: "ğŸ“", active: false },
                                { title: "ç¤¾ç¾¤å…ƒè€", condition: "åŠ å…¥ç¤¾ç¾¤ 365 å¤©", icon: "ğŸ›ï¸", active: false },
                                { title: "å…¨å‹¤ä»£è¡¨", condition: "30 å¤©å†…æ¯å¤©åœ¨ç¤¾ç¾¤å†’æ³¡", icon: "ğŸ™‹", active: false },
                                { title: "åˆå¤œèŠå¤©å®¤", condition: "å‡Œæ™¨åœ¨ç¤¾ç¾¤èŠå¤© 50 æ¬¡", icon: "ğŸŒš", active: false },
                                { title: "è¡¨æƒ…åŒ…æ”¶è—å®¶", condition: "æ”¶é›† 50 ä¸ªä¸åŒè¡¨æƒ…åŒ…", icon: "ğŸ“¦", active: false },
                                { title: "è¯ç—¨", condition: "å•æ—¥å‘é€æ¶ˆæ¯ 100 æ¡", icon: "ğŸ—£ï¸", active: false },
                                { title: "ç¤¾äº¤ç½‘ç»œ", condition: "ä½ çš„é‚€è¯·ç½‘ç»œè¾¾åˆ° 3 å±‚", icon: "ğŸ•¸ï¸", active: false },
                                { title: "ç™¾äººå›¢é•¿", condition: "é‚€è¯· 100 ä½å¥½å‹", icon: "âš”ï¸", active: false },
                                { title: "åˆ†äº«ç‹‚äºº", condition: "åˆ†äº«å†…å®¹ 100 æ¬¡", icon: "ğŸ“²", active: false },
                                { title: "ç—…æ¯’è¥é”€", condition: "åˆ†äº«è·å¾— 1000+ è½¬å‘", icon: "ğŸ¦ ", active: false }
                            ]
                        },
                        {
                            name: "ğŸ® äº’åŠ¨æˆå°±",
                            id: "interaction",
                            items: [
                                { title: "ç ´å†°è€…", condition: "å®Œæˆé¦–æ¬¡äº’åŠ¨", icon: "ğŸ”¨", active: true },
                                { title: "äººæ ¼æ¢ç´¢è€…", condition: "å®Œæˆäººæ ¼æµ‹è¯•", icon: "ğŸ§©", active: false },
                                { title: "å æ˜Ÿçˆ±å¥½è€…", condition: "æŸ¥çœ‹è¿åŠ¿ 7 å¤©", icon: "ğŸ”®", active: true },
                                { title: "è®¾ç½®è¾¾äºº", condition: "å®Œå–„æ‰€æœ‰ä¸ªäººè®¾ç½®", icon: "âš™ï¸", active: false },
                                { title: "å®Œç¾ä¸»ä¹‰è€…", condition: "ä¸ªäººèµ„æ–™å®Œæˆåº¦ 100%", icon: "ğŸ’¯", active: false },
                                { title: "æ„è§é¢†è¢–", condition: "æäº¤åŠŸèƒ½å»ºè®®è¢«é‡‡çº³", icon: "ğŸ’¡", active: false },
                                { title: "BugçŒäºº", condition: "æŠ¥å‘ŠBug 5 ä¸ª", icon: "ğŸ›", active: false },
                                { title: "æµ‹è¯•è¾¾äºº", condition: "å‚ä¸å†…æµ‹æ–°åŠŸèƒ½ 10 æ¬¡", icon: "ğŸ§ª", active: false },
                                { title: "åé¦ˆä¹‹æ˜Ÿ", condition: "æäº¤æœ‰æ•ˆåé¦ˆ 20 æ¬¡", icon: "â­", active: false },
                                { title: "é“ç²‰", condition: "ä½¿ç”¨Botè¶…è¿‡ 180 å¤©", icon: "ğŸ’", active: false }
                            ]
                        },
                        {
                            name: "ğŸ”’ éšè—æˆå°±",
                            id: "hidden",
                            items: [
                                { title: "3æœˆè¯ç”Ÿæœˆ", condition: "3æœˆç­¾åˆ°æ¯æ—¥ç§¯åˆ†ç¿»å€", icon: "ğŸ‚", active: false },
                                { title: "æ–°å¹´ç¬¬ä¸€ç­¾", condition: "1.1 00:00-01:00 ç­¾åˆ°", icon: "ğŸ§§", active: false },
                                { title: "è´¢ç¥çˆ·", condition: "é‚€è¯·5å¥½å‹æˆä¸ºæ´»è·ƒç”¨æˆ·", icon: "ğŸ’°", active: false },
                                { title: "å‡Œæ™¨3ç‚¹", condition: "å‡Œæ™¨3ç‚¹ç­¾åˆ°", icon: "ğŸ•’", active: false },
                                { title: "å½©è›‹çŒäºº", condition: "å‘ç°æ‰€æœ‰å½©è›‹", icon: "ğŸ¥š", active: false }
                            ]
                        }
                    ]
                }
            },
            computed: {
                // è·å–å½“å‰ Tab çš„æ•°æ®
                currentBadges() {
                    const category = this.achievementCategories.find(c => c.id === this.currentTab);
                    return category ? category.items : [];
                },
                // ç»Ÿè®¡æ€»æ•°
                totalCount() {
                    return this.achievementCategories.reduce((sum, cat) => sum + cat.items.length, 0);
                },
                // ç»Ÿè®¡å·²è§£é”æ•°
                unlockedCount() {
                    return this.achievementCategories.reduce((sum, cat) => {
                        return sum + cat.items.filter(item => item.active).length;
                    }, 0);
                }
            },
            mounted() {
                // TG WebApp åˆå§‹åŒ–
                if (window.Telegram && window.Telegram.WebApp) {
                    const tg = window.Telegram.WebApp;
                    tg.ready();
                    tg.expand(); // å±•å¼€è‡³å…¨å±
                    
                    // è·å–ç”¨æˆ·ä¿¡æ¯ (å¦‚æœæ˜¯åœ¨ TG å†…æ‰“å¼€)
                    if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
                        this.user.name = tg.initDataUnsafe.user.first_name;
                        // è¿™é‡Œå¯ä»¥é€šè¿‡ API è¯·æ±‚çœŸå®çš„ç”¨æˆ·æˆå°±æ•°æ®æ¥è¦†ç›– this.achievementCategories ä¸­çš„ active çŠ¶æ€
                    }
                }
            },
            methods: {
                shareAchievement() {
                    if (window.Telegram && window.Telegram.WebApp) {
                        window.Telegram.WebApp.sendData("SHARE_MY_STATS");
                    } else {
                        alert("è¯·åœ¨ Telegram ä¸­æ‰“å¼€ä»¥åˆ†äº«æˆ˜ç»©ï¼");
                    }
                }
            }
        }).mount('#app');
    </script>
</body>
</html>